<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Resume</title>
    <style>
        @page {
            size: A4;
            margin: 0;
        }
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 10px;
            line-height: 1.2;
            color: #333;
            background-color: #fff;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 210mm;
            height: 297mm;
            margin: 0 auto;
            display: flex;
            overflow: hidden;
        }
        .left-column {
            width: 33%;
            padding: 15px;
            background-color: #f2f2f2;
        }
        .right-column {
            width: 67%;
            padding: 15px;
        }
        .header {
            text-align: center;
            margin-bottom: 15px;
        }
        .name {
            font-size: 28px;
            font-weight: 700;
            margin: 0;
            color: #333;
        }
        .title {
            font-size: 18px;
            font-weight: 300;
            margin: 5px 0;
            color: #555;
        }
        .section {
            margin-bottom: 10px;
        }
        .section-title {
            font-size: 14px;
            font-weight: 700;
            color: #333;
            border-bottom: 1px solid #333;
            padding-bottom: 3px;
            margin-bottom: 8px;
        }
        .contact-info div {
            margin-bottom: 6px;
        }
        .skills-section {
            margin-bottom: 15px;
        }
        .skills-category {
            margin-bottom: 10px;
        }
        .skills-category-title {
            font-weight: 700;
            font-size: 12px;
            color: #444;
            margin-bottom: 5px;
            text-transform: capitalize;
        }

        .experience-item, .education-item {
            margin-bottom: 15px;
        }
        .item-header {
            font-weight: 700;
            font-size: 14px;
            color: #444;
            overflow: auto;
            margin-bottom: 5px;
        }
        .item-header span:first-child {
            float: left;
        }
        .item-header span:last-child {
            float: right;
            font-weight: 400;
            font-size: 12px;
            color: #666;
        }
        .item-description {
            margin-top: 5px;
            word-wrap: break-word;
            white-space: pre-wrap;
            color: #555;
        }
        .tech-stack {
            padding-left: 0;
        }
        .tech-stack-label {
            font-weight: 700;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="left-column">
        <div class="header">
            <h1 class="name" th:text="${resume.name}"></h1>
            <p class="title" th:text="${resume.title}"></p>
        </div>
        <div class="section contact-info">
            <h2 class="section-title">Contact</h2>
            <div><strong>Email:</strong> <span th:text="${resume.email}"></span></div>
            <div><strong>Phone:</strong> <span th:text="${resume.phone}"></span></div>
            <div><strong>LinkedIn:</strong> <span th:text="${resume.linkedin}"></span></div>
            <div><strong>GitHub:</strong> <span th:text="${resume.github}"></span></div>
        </div>
        <div class="skills-section">
            <h2 class="section-title">Skills</h2>
            <div class="skills-category" th:each="skillCategory : ${resume.skills}">
                <h3 class="skills-category-title" th:text="${#strings.replace(skillCategory.key, '_', ' ')}"></h3>
                <p th:text="${#strings.listJoin(skillCategory.value, ', ')}"></p>
            </div>
        </div>
    </div>
    <div class="right-column">
        <div class="section">
            <h2 class="section-title">Summary</h2>
            <p th:text="${resume.summary}"></p>
        </div>
        <div class="section">
            <h2 class="section-title">Key Projects</h2>
            <div class="experience-item" th:each="project : ${resume.projects}">
                <div class="item-header">
                    <span th:text="${project.title}"></span>
                    <span th:text="${project.duration}"></span>
                </div>
                <div class="item-description" th:text="${project.description}"></div>
                <div class="item-description tech-stack" th:if="${project.tech != null}">
                    <span class="tech-stack-label">Tech Stack:</span> <span th:text="${project.tech}"></span>
                </div>
            </div>
        </div>
        <div class="section">
            <h2 class="section-title">Education</h2>
            <div class="education-item" th:each="education : ${resume.educations}">
                <div class="item-header">
                    <span th:text="${education.degree}"></span>
                    <span th:text="${education.duration}"></span>
                </div>
                <div class="item-description" th:text="${education.university}"></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>